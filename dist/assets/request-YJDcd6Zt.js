import{a as s}from"./index-t--hEgTQ.js";import{E as r}from"./index-BC4_fVfx.js";const a=s.create({baseURL:"http://127.0.0.1:8000/api",timeout:5e3,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>e,e=>(console.error("请求错误：",e),Promise.reject(e)));a.interceptors.response.use(e=>{const t=e.data;return(!t||Array.isArray(t)&&t.length===0||typeof t=="object"&&Object.keys(t).length===0)&&console.warn("API返回空数据:",e.config.url),t},e=>{console.error("响应错误：",e);let t=e.message||"请求失败";if(e.response)switch(e.response.status){case 400:t="请求参数错误";break;case 401:t="未授权，请重新登录";break;case 403:t="拒绝访问";break;case 404:t="请求资源不存在";break;case 500:t="服务器内部错误";break;default:t=`请求失败: ${e.response.status}`}else e.request&&(t="网络连接失败，请检查网络");return r({message:t,type:"error",duration:5*1e3}),Promise.reject(e)});const c={getFinancialData(e){return a.get("/financial/data/",{params:e})},getFinancialSummary(e){return a.get("/financial/summary/",{params:e})},getTimeSeriesData(e){return a.get("/financial/timeseries/",{params:e})},generateSampleData(){return a.post("/financial/generate_sample/")},getStockData(){return a.get("/stocks/quotes")},getAllItems(){return a.get("/list/selectAll/")}};export{c as f};
